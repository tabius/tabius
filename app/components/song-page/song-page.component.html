<div class="content">

    <div *ngIf="!loaded && (indicatorIsAllowed$|async)" class="indicator">
        <div class="message">Загружаем текст песни…</div>
        <gt-loading-indicator></gt-loading-indicator>
    </div>

    <div *ngIf="loaded">

        <gt-artist-breadcrumb [artist]="artist"></gt-artist-breadcrumb>

        <gt-song [songId]="song.id"></gt-song>

        <div class="user-controls">
            <gt-add-song-to-playlist [songId]="song.id"></gt-add-song-to-playlist>
        </div>

        <div *ngIf="hasEditRight" class="edit-song-block">
            <a *ngIf="!editorIsOpen" href="javascript:" (click)="toggleEditor()">Исправить подбор »</a>

            <gt-song-editor *ngIf="editorIsOpen"
                            (closeRequest)="toggleEditor()"
                            [songId]="song.id"
                            [scrollIntoView]="true"
            ></gt-song-editor>
        </div>

        <div *ngIf="hasValidForumTopic(song)" class="forum-link-block">
            <a href="{{getSongForumTopicLink(song)}}">Обсудить подбор на форуме »</a>
        </div>


    </div>
</div>
