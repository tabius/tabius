<div class="content">

    <div *ngIf="!loaded && (indicatorIsAllowed$|async)" class="indicator">
        <div class="message">Загружаем текст песни…</div>
        <gt-loading-indicator></gt-loading-indicator>
    </div>

    <div *ngIf="loaded">

        <gt-artist-breadcrumb [artist]="artist"></gt-artist-breadcrumb>

        <div class="song-root">
            <div>
                <div>
                    <h1>{{song.title}}</h1>
                    <div (click)="toggleSettings()" class="inline-settings-toggle" title="Настроить отображения">
                        <gt-svg-icon icon="song-setting"></gt-svg-icon>
                    </div>
                </div>
                <gt-inline-song-settings *ngIf="settingsVisible" [songId]="song.id">Settings</gt-inline-song-settings>
                <div *ngIf="youtubeLink && onLine" class="youtube-video">
                    <iframe [src]="youtubeLink | safeResourceUrl"></iframe>
                </div>
                <gt-song-view [song]="songDetails"></gt-song-view>
            </div>
        </div>

        <gt-song-chords [song]="songDetails"></gt-song-chords>

        <div class="user-controls">
            <gt-add-song-to-playlist [songId]="song.id"></gt-add-song-to-playlist>
        </div>

        <div *ngIf="hasValidForumTopic()" class="forum-link-block">
            <a href="{{getSongForumTopicLink()}}" target="_blank">Обсудить подбор на форуме »</a>
        </div>
    </div>
</div>
